{% extends 'base.html' %}

{% block title %}{{ article.title }}{% endblock %}

{% block head %}
  {% if article.description %}
  <meta name="description" content="{{ article.description }}">
  {% endif %}
{% endblock %}

{% block body %}

<article class="article">
  <header class="header">
    <time class="date" datetime="{{ article.created_at.isoformat }}">{{ article.created_at }}</time>
    <h2 class="title">{{ article.title }}</h2>
  </header>
  {% if article.image %}
    <figure class="thumbnail">
      <img class="image" src="{{ article.image.url }}" alt="{{ article.title }}">
    </figure>
  {% endif %}
  <div class="content">{{ article.content|safe }}</div>
</article>

<aside class="prev-next">
  {% with prev=article.get_previous_by_created_at %}
    {% if prev %}
      <div class="prev">&larr; &laquo;<a title="предыдущая" href="{{ prev.get_absolute_url }}">{{ prev.title }}</a>&raquo;</div>
    {% endif %}
  {% endwith %}

  {% with next=article.get_next_by_created_at %}
    {% if next %}
      <div class="next">&laquo;<a title="следующая" href="{{ next.get_absolute_url }}">{{ next.title }}</a>&raquo; &rarr;</div>
    {% endif %}
  {% endwith %}
</aside>
{% endblock %}
